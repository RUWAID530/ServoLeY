# Core server
NODE_ENV=production
PORT=8084

# Database (PostgreSQL + Prisma pool)
DATABASE_URL=postgresql://username:password@localhost:5432/servoley?connection_limit=20
DB_POOL_MAX=20

# CORS (comma-separated exact origins)
CORS_ORIGIN=https://app.servoley.com,https://admin.servoley.com

# JWT (max 7d; values above 7d are clamped at runtime)
JWT_SECRET=replace-with-64-char-secret
JWT_REFRESH_SECRET=replace-with-another-64-char-secret
# Optional previous secrets to support key rotation grace window
JWT_SECRET_PREVIOUS=
JWT_REFRESH_SECRET_PREVIOUS=
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_BCRYPT_ROUNDS=12
ENCRYPTION_KEY=replace-with-64-char-encryption-key

# Security/rate limit
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200
LOGIN_RATE_LIMIT_WINDOW_MS=60000
LOGIN_RATE_LIMIT_MAX_REQUESTS=5
REGISTER_RATE_LIMIT_WINDOW_MS=600000
REGISTER_RATE_LIMIT_MAX_REQUESTS=15
AUTH_RATE_LIMIT_WINDOW_MS=300000
AUTH_RATE_LIMIT_MAX_REQUESTS=20
OTP_VERIFY_RATE_LIMIT_WINDOW_MS=60000
OTP_VERIFY_RATE_LIMIT_MAX_REQUESTS=10
PAYMENT_METHOD_RATE_LIMIT_WINDOW_MS=300000
PAYMENT_METHOD_RATE_LIMIT_MAX_REQUESTS=20
MESSAGING_RATE_LIMIT_WINDOW_MS=60000
MESSAGING_RATE_LIMIT_MAX_REQUESTS=30
WEBHOOK_RATE_LIMIT_WINDOW_MS=60000
WEBHOOK_RATE_LIMIT_MAX_REQUESTS=300
RATE_LIMIT_REDIS_URL=
RATE_LIMIT_REDIS_PREFIX=rl:
RATE_LIMIT_IPV6_SUBNET=56
ENABLE_DETAILED_ERRORS=false
MAX_INPUT_LENGTH=4000
MAX_INPUT_DEPTH=8
MAX_ARRAY_ITEMS=100
MAX_OBJECT_KEYS=100

# Logging
LOG_LEVEL=info
LOG_TO_FILE=true

# Backup
DATABASE_BACKUP_DIR=./backups/db

# App/API URL for frontend builds
VITE_API_URL=https://api.servoley.com

# Integrations (set only what you use)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
RAZORPAY_KEY_ID=
RAZORPAY_KEY_SECRET=
RAZORPAY_WEBHOOK_SECRET=
MOCK_PAYMENT=false

# Financial integrity
COMMISSION_RATE=0.02
PLATFORM_WALLET_USER_ID=
IDEMPOTENCY_TTL_HOURS=24
